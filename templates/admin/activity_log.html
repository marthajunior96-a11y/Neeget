{% extends "admin/base_admin.html" %}

{% block title %}Activity Log{% endblock %}

{% block breadcrumb %}
<i class="fas fa-history"></i>
<span>Activity Log</span>
{% endblock %}

{% block content %}
<h1 class="admin-page-title"><i class="fas fa-history"></i> Admin Activity Log</h1>

<div class="admin-table">
    <table class="table">
        <thead>
            <tr><th>Admin</th><th>Action</th><th>Target</th><th>Time</th></tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr>
                <td>{{ log.admin_name }}</td>
                <td><span class="badge badge-admin-info">{{ log.action_type }}</span></td>
                <td>{{ log.target_type }} #{{ log.target_id }}</td>
                <td>{{ log.timestamp[:19] if log.timestamp else 'N/A' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="mt-3">
    {% if page > 1 %}
        <a href="{{ url_for('admin.activity_log', page=page-1) }}" class="btn btn-admin-primary"><i class="fas fa-arrow-left"></i> Previous</a>
    {% endif %}
    {% if (page * per_page) < total_logs %}
        <a href="{{ url_for('admin.activity_log', page=page+1) }}" class="btn btn-admin-primary"><i class="fas fa-arrow-right"></i> Next</a>
    {% endif %}
</div>
{% endblock %}
